<!DOCTYPE html>
<html lang="vi" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio — FE Dev / UI·UX</title>
  <meta name="description" content="Portfolio Front-end Developer / UI·UX Designer" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter','system-ui','-apple-system','Segoe UI','Roboto','Arial','sans-serif'] },
          colors: {
            brand: { DEFAULT:'#6D28D9', 50:'#F5F3FF', 100:'#EDE9FE', 200:'#DDD6FE', 300:'#C4B5FD', 400:'#A78BFA', 500:'#8B5CF6', 600:'#7C3AED', 700:'#6D28D9', 800:'#5B21B6', 900:'#4C1D95' }
          },
          boxShadow: {
            island: '0 12px 40px rgba(0,0,0,.20), inset 0 1px 0 rgba(255,255,255,.08)',
          }
        }
      }
    }
  </script>

  <!-- Devicon (logos) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@v2.15.1/devicon.min.css">

  <!-- GSAP + ScrollTrigger + ScrollTo -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollToPlugin.min.js"></script>
  <!-- Lenis (mượt thật sự) -->
  <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.45/bundled/lenis.min.js"></script>

  <style>
    html,body{height:100%}
    .glass{backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px)}
    .glass-light{background: linear-gradient(180deg,rgba(255,255,255,.8),rgba(255,255,255,.6))}
    .glass-dark{background: linear-gradient(180deg,rgba(10,10,10,.7),rgba(10,10,10,.5))}
    /* Dynamic Island */
    .island{transition: width .28s cubic-bezier(.2,.8,.2,1), height .28s cubic-bezier(.2,.8,.2,1), border-radius .28s}
    .island--closed{width: 180px; height: 48px; border-radius: 999px}
    .island--open{width: min(92vw, 980px); height: 64px; border-radius: 28px}
    .nav-link{position:relative}
    .nav-link:after{content:'';position:absolute;left:0;bottom:-6px;height:2px;width:0;background:currentColor;transition:width .2s ease}
    .nav-link.active:after,.nav-link:hover:after{width:100%}
    /* Section offset for sticky header */
    section{scroll-margin-top:120px}
    @media (max-width: 767px){ section{scroll-margin-top:96px} }
  </style>
</head>

<body class="font-sans bg-white text-neutral-900 dark:bg-neutral-950 dark:text-neutral-100 selection:bg-brand/40 selection:text-black">

  <!-- THEME / LANG state init -->
  <script>
    const root = document.documentElement;
    const pref = localStorage.getItem('theme') ?? (matchMedia('(prefers-color-scheme: dark)').matches ? 'dark':'light');
    if(pref==='dark') root.classList.add('dark');
    const savedLang = localStorage.getItem('lang') || 'vi';
    document.documentElement.lang = savedLang;
  </script>

  <!-- BG gradient -->
  <div aria-hidden="true" class="pointer-events-none fixed inset-0 -z-10">
    <div class="absolute -top-40 -left-40 w-[500px] h-[500px] rounded-full blur-3xl opacity-30 dark:opacity-40"
         style="background: radial-gradient(closest-side,#8B5CF6,transparent)"></div>
    <div class="absolute -bottom-40 -right-40 w-[500px] h-[500px] rounded-full blur-3xl opacity-20 dark:opacity-30"
         style="background: radial-gradient(closest-side,#22D3EE,transparent)"></div>
  </div>

  <!-- Dynamic Island Header (top center on desktop, bottom center on mobile) -->
  <header class="fixed z-50 left-1/2 -translate-x-1/2 top-4 md:top-6 md:bottom-auto bottom-4 w-full flex flex-col items-center">
    <div id="island" class="island island--closed flex items-center gap-2 px-3 md:px-4 shadow-island border border-white/20 glass glass-light dark:glass-dark">
      <!-- Brand / Toggle -->
      <button id="islandToggle" class="flex items-center gap-2 px-2 py-1" aria-expanded="false" aria-controls="islandMenu">
        <span class="inline-block w-7 h-7 rounded-full bg-gradient-to-br from-brand-400 to-cyan-300 ring-2 ring-white/50 dark:ring-white/10"></span>
        <strong class="tracking-wide text-sm md:text-base">PORTFOLIO</strong>
      </button>

      <!-- Menu -->
      <nav id="islandMenu" class="hidden md:flex items-center gap-6 text-sm">
        <a class="nav-link cursor-pointer" data-scroll="#home" data-i18n="nav.home">Trang chủ</a>
        <a class="nav-link cursor-pointer" data-scroll="#about" data-i18n="nav.about">Giới thiệu</a>
        <a class="nav-link cursor-pointer" data-scroll="#skills" data-i18n="nav.skills">Kỹ năng</a>
        <a class="nav-link cursor-pointer" data-scroll="#experience" data-i18n="nav.experience">Kinh nghiệm</a>
        <a class="nav-link cursor-pointer" data-scroll="#projects" data-i18n="nav.projects">Dự án</a>
        <a class="nav-link cursor-pointer" data-scroll="#contact" data-i18n="nav.contact">Liên hệ</a>
      </nav>

      <!-- Actions -->
      <div class="ml-auto flex items-center gap-2">
        <button id="langBtn" class="text-xs md:text-sm px-3 py-1 rounded-full border border-white/30 hover:bg-white/20">EN/VN</button>
        <button id="themeBtn" class="text-xs md:text-sm px-3 py-1 rounded-full border border-white/30 hover:bg-white/20" aria-label="Dark/Light">☾/☼</button>
      </div>
    </div>

    <!-- Mobile panel -->
    <div id="islandPanel" class="md:hidden hidden mt-2 w-[92vw] max-w-[980px] mx-auto rounded-2xl border border-white/20 shadow-xl glass glass-light dark:glass-dark">
      <nav class="grid grid-cols-2 gap-2 p-3 text-sm">
        <a class="px-3 py-2 rounded-xl hover:bg-white/20 nav-link" data-scroll="#home">Trang chủ</a>
        <a class="px-3 py-2 rounded-xl hover:bg-white/20 nav-link" data-scroll="#about">Giới thiệu</a>
        <a class="px-3 py-2 rounded-xl hover:bg-white/20 nav-link" data-scroll="#skills">Kỹ năng</a>
        <a class="px-3 py-2 rounded-xl hover:bg-white/20 nav-link" data-scroll="#experience">Kinh nghiệm</a>
        <a class="px-3 py-2 rounded-xl hover:bg-white/20 nav-link" data-scroll="#projects">Dự án</a>
        <a class="px-3 py-2 rounded-xl hover:bg-white/20 nav-link" data-scroll="#contact">Liên hệ</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section id="home" class="min-h-[92vh] pt-32 md:pt-44">
    <div class="container mx-auto px-5 md:px-8">
      <div class="grid lg:grid-cols-2 gap-10 items-center">
        <div class="space-y-6">
          <span class="inline-flex items-center gap-2 text-[11px] uppercase tracking-[.2em]">
            <span class="w-2 h-2 rounded-full bg-emerald-400 animate-pulse"></span>
            <span data-i18n="hero.badge">Sẵn sàng bùng nổ</span>
          </span>
          <h1 class="text-4xl md:text-6xl font-extrabold leading-tight">
            Front-end Developer <span class="text-brand">×</span> UI·UX Designer
          </h1>
          <p class="text-base md:text-lg opacity-80 max-w-xl" data-i18n="hero.subtitle">
            Tạo sản phẩm web nhanh, mượt, đúng chất. Ưu tiên CWV, A11y, motion tinh tế — để UI vừa đẹp vừa hiệu quả.
          </p>
          <div class="flex flex-wrap gap-3">
            <a data-scroll="#projects" class="group inline-flex items-center gap-2 px-5 py-3 rounded-full bg-neutral-900 text-white dark:bg-white dark:text-neutral-900">
              <span data-i18n="hero.ctaPrimary">Xem dự án</span><span class="group-hover:translate-x-1 transition">→</span>
            </a>
            <a data-scroll="#contact" class="inline-flex items-center gap-2 px-5 py-3 rounded-full border border-current" data-i18n="hero.ctaSecondary">Liên hệ</a>
          </div>
          <div class="grid grid-cols-3 gap-4 pt-4">
            <div class="p-4 rounded-2xl border border-white/20 glass glass-light dark:glass-dark text-center">
              <div class="text-3xl font-black">4+</div>
              <div class="text-xs opacity-70" data-i18n="stats.y">Năm kinh nghiệm</div>
            </div>
            <div class="p-4 rounded-2xl border border-white/20 glass glass-light dark:glass-dark text-center">
              <div class="text-3xl font-black">25+</div>
              <div class="text-xs opacity-70" data-i18n="stats.p">Dự án hoàn thành</div>
            </div>
            <div class="p-4 rounded-2xl border border-white/20 glass glass-light dark:glass-dark text-center">
              <div class="text-3xl font-black">5</div>
              <div class="text-xs opacity-70" data-i18n="stats.a">Giải thưởng/Cert</div>
            </div>
          </div>
        </div>

        <div class="relative">
          <div class="aspect-[4/5] rounded-[28px] overflow-hidden border border-white/20 shadow-2xl">
            <img src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?q=80&w=1200&auto=format&fit=crop" alt="Avatar" class="w-full h-full object-cover">
          </div>
          <div class="absolute -bottom-5 -left-5 flex gap-2">
            <span class="px-3 py-1.5 text-xs rounded-full border border-white/30 glass glass-light dark:glass-dark">Figma</span>
            <span class="px-3 py-1.5 text-xs rounded-full border border-white/30 glass glass-light dark:glass-dark">React</span>
            <span class="px-3 py-1.5 text-xs rounded-full border border-white/30 glass glass-light dark:glass-dark">Next.js</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="py-20 md:py-28">
    <div class="container mx-auto px-5 md:px-8 grid lg:grid-cols-12 gap-10">
      <div class="lg:col-span-5">
        <h2 class="text-3xl md:text-4xl font-extrabold mb-4" data-i18n="about.title">Về tôi</h2>
        <p class="opacity-85" data-i18n="about.text">
          Mình là <strong id="devName">Nguyễn Minh An</strong>, 25 tuổi, ở <strong>TP.HCM</strong>. Cử nhân CNTT (HCI/UX).
          Đam mê giao thoa giữa kỹ thuật và thiết kế – ship nhanh, sạch, có gu.
        </p>
        <ul class="mt-5 space-y-2 text-sm">
          <li><span class="opacity-60" data-i18n="about.name">Họ tên:</span> <strong>Nguyễn Minh An</strong></li>
          <li><span class="opacity-60" data-i18n="about.age">Tuổi:</span> <strong>25</strong></li>
          <li><span class="opacity-60" data-i18n="about.loc">Nơi ở:</span> <strong>TP.HCM, Việt Nam</strong></li>
          <li><span class="opacity-60" data-i18n="about.edu">Học vấn:</span> <strong>ĐH Công nghệ — HCI/UX</strong></li>
          <li><span class="opacity-60">Email:</span> <a class="underline underline-offset-4" href="mailto:hi@you.dev">hi@you.dev</a></li>
        </ul>
        <div class="flex gap-3 mt-4">
          <a href="#" class="px-4 py-2 rounded-xl border border-current" data-i18n="about.cv">Tải CV</a>
          <a href="#" class="px-4 py-2 rounded-xl border border-current">GitHub</a>
          <a href="#" class="px-4 py-2 rounded-xl border border-current">Dribbble</a>
        </div>
      </div>
      <div class="lg:col-span-7">
        <div class="rounded-3xl p-6 border border-white/20 glass glass-light dark:glass-dark">
          <h3 class="font-semibold mb-3" data-i18n="about.focus">Tập trung</h3>
          <div class="grid sm:grid-cols-3 gap-4">
            <div class="p-4 rounded-2xl border border-white/20">
              <h4 class="font-semibold">Performance</h4>
              <p class="text-sm opacity-80">Core Web Vitals, bundle split, lazy-load.</p>
            </div>
            <div class="p-4 rounded-2xl border border-white/20">
              <h4 class="font-semibold">A11y</h4>
              <p class="text-sm opacity-80">ARIA, keyboard-first, contrast.</p>
            </div>
            <div class="p-4 rounded-2xl border border-white/20">
              <h4 class="font-semibold">Motion</h4>
              <p class="text-sm opacity-80">Micro-interactions có ý nghĩa.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SKILLS -->
  <section id="skills" class="py-20 md:py-28">
    <div class="container mx-auto px-5 md:px-8">
      <h2 class="text-3xl md:text-4xl font-extrabold mb-8" data-i18n="skills.title">Kỹ năng</h2>
      <div class="grid lg:grid-cols-3 gap-8">
        <div class="rounded-3xl p-6 border border-white/20 glass glass-light dark:glass-dark">
          <h3 class="font-semibold mb-4">Front-end</h3>
          <div class="flex flex-wrap gap-4 text-4xl">
            <i class="devicon-html5-plain colored"></i>
            <i class="devicon-css3-plain colored"></i>
            <i class="devicon-javascript-plain colored"></i>
            <i class="devicon-typescript-plain colored"></i>
            <i class="devicon-react-original colored"></i>
            <i class="devicon-nextjs-original"></i>
            <i class="devicon-tailwindcss-plain colored"></i>
            <i class="devicon-vitejs-plain colored"></i>
          </div>
        </div>
        <div class="rounded-3xl p-6 border border-white/20 glass glass-light dark:glass-dark">
          <h3 class="font-semibold mb-4">UI/UX</h3>
          <div class="flex flex-wrap gap-4 text-4xl">
            <i class="devicon-figma-plain colored"></i>
            <i class="devicon-photoshop-plain colored"></i>
            <i class="devicon-illustrator-plain colored"></i>
            <i class="devicon-storybook-plain colored"></i>
          </div>
        </div>
        <div class="rounded-3xl p-6 border border-white/20 glass glass-light dark:glass-dark">
          <h3 class="font-semibold mb-4">Backend / Data / Tooling</h3>
          <div class="flex flex-wrap gap-4 text-4xl">
            <i class="devicon-nodejs-plain colored"></i>
            <i class="devicon-express-original"></i>
            <i class="devicon-mongodb-plain colored"></i>
            <i class="devicon-postgresql-plain colored"></i>
            <i class="devicon-prisma-original colored"></i>
            <i class="devicon-docker-plain colored"></i>
            <i class="devicon-git-plain colored"></i>
            <i class="devicon-graphql-plain colored"></i>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- EXPERIENCE -->
  <section id="experience" class="py-20 md:py-28">
    <div class="container mx-auto px-5 md:px-8">
      <h2 class="text-3xl md:text-4xl font-extrabold mb-8" data-i18n="exp.title">Kinh nghiệm</h2>
      <ol class="relative border-s-2 border-brand/30 space-y-8 ps-6">
        <li>
          <div class="absolute -start-3 top-1 w-6 h-6 rounded-full bg-brand/90 ring-4 ring-brand/20"></div>
          <h3 class="font-bold">Front-end Engineer — A Company</h3>
          <p class="text-sm opacity-70">2023–2025 • HCMC</p>
          <ul class="list-disc ms-5 mt-2 text-sm opacity-90 space-y-1">
            <li>Lead design system + Storybook, atoms/molecules tái sử dụng.</li>
            <li>Optimize CWV: LCP &lt; 2.5s, CLS &lt; 0.05, TBT -35%.</li>
            <li>Phối hợp UX research → conversion +18%.</li>
          </ul>
        </li>
        <li>
          <div class="absolute -start-3 top-1 w-6 h-6 rounded-full bg-cyan-400 ring-4 ring-cyan-200/40"></div>
          <h3 class="font-bold">UI/UX Designer — B Studio</h3>
          <p class="text-sm opacity-70">2021–2023 • Remote</p>
          <ul class="list-disc ms-5 mt-2 text-sm opacity-90 space-y-1">
            <li>Flow, wireframe, prototype hi-fi (Figma).</li>
            <li>Motion/micro-interaction đồng nhất brand.</li>
            <li>Ship 10+ sản phẩm: landing, dashboard, app.</li>
          </ul>
        </li>
        <li>
          <div class="absolute -start-3 top-1 w-6 h-6 rounded-full bg-emerald-400 ring-4 ring-emerald-200/40"></div>
          <h3 class="font-bold">Freelance</h3>
          <p class="text-sm opacity-70">2019–nay • Global</p>
          <ul class="list-disc ms-5 mt-2 text-sm opacity-90 space-y-1">
            <li>Tư vấn & build MVP cho startup.</li>
            <li>Thiết lập CI/CD, monitoring, analytics.</li>
            <li>Huấn luyện team FE/UI cho SMEs.</li>
          </ul>
        </li>
      </ol>
    </div>
  </section>

  <!-- PROJECTS -->
  <section id="projects" class="py-20 md:py-28">
    <div class="container mx-auto px-5 md:px-8">
      <div class="flex items-end justify-between mb-6">
        <h2 class="text-3xl md:text-4xl font-extrabold" data-i18n="projects.title">Dự án nổi bật</h2>
        <a href="#" class="text-sm underline underline-offset-4" data-i18n="projects.all">Xem tất cả</a>
      </div>
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Card -->
        <article class="rounded-3xl overflow-hidden border border-white/20 glass glass-light dark:glass-dark">
          <div class="aspect-video">
            <img class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1515879218367-8466d910aaa4?q=80&w=1200&auto=format&fit=crop" alt="Neo Commerce" />
          </div>
          <div class="p-5">
            <h3 class="font-bold">Neo Commerce</h3>
            <p class="text-sm opacity-80">Headless e-commerce (Next.js + Stripe) với DS tùy biến.</p>
            <div class="text-xs opacity-60 mt-1">Next.js • Tailwind • Stripe</div>
          </div>
        </article>
        <article class="rounded-3xl overflow-hidden border border-white/20 glass glass-light dark:glass-dark">
          <div class="aspect-video">
            <img class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1556157382-97eda2d62296?q=80&w=1200&auto=format&fit=crop" alt="Pulse Analytics" />
          </div>
          <div class="p-5">
            <h3 class="font-bold">Pulse Analytics</h3>
            <p class="text-sm opacity-80">Realtime dashboard 60fps (React + WS).</p>
            <div class="text-xs opacity-60 mt-1">React • WebSocket • D3</div>
          </div>
        </article>
        <article class="rounded-3xl overflow-hidden border border-white/20 glass glass-light dark:glass-dark">
          <div class="aspect-video">
            <img class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1559027615-5e05f7ba9f22?q=80&w=1200&auto=format&fit=crop" alt="FlowBank" />
          </div>
          <div class="p-5">
            <h3 class="font-bold">FlowBank</h3>
            <p class="text-sm opacity-80">App tài chính cá nhân, UX theo hành vi.</p>
            <div class="text-xs opacity-60 mt-1">React Native • Figma • Supabase</div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="py-20 md:py-28">
    <div class="container mx-auto px-5 md:px-8 grid lg:grid-cols-2 gap-8">
      <div>
        <h2 class="text-3xl md:text-4xl font-extrabold mb-4" data-i18n="contact.title">Liên hệ</h2>
        <p class="opacity-80 mb-6" data-i18n="contact.desc">Ưu tiên consumer product, SaaS, fintech & giáo dục. Có thể on-site HCMC hoặc remote.</p>
        <div class="flex flex-wrap gap-3">
          <a class="px-4 py-2 rounded-xl border border-current" href="#">LinkedIn</a>
          <a class="px-4 py-2 rounded-xl border border-current" href="#">GitHub</a>
          <a class="px-4 py-2 rounded-xl border border-current" href="#">Behance</a>
          <a class="px-4 py-2 rounded-xl border border-current" href="#">Dribbble</a>
        </div>
      </div>
      <form class="rounded-3xl p-6 border border-white/20 glass glass-light dark:glass-dark space-y-4" id="form">
        <div class="grid sm:grid-cols-2 gap-4">
          <label class="block text-sm">
            <span class="opacity-80" data-i18n="contact.name">Họ tên</span>
            <input required class="mt-1 w-full px-4 py-3 rounded-xl bg-white/80 dark:bg-black/40 border border-white/30 outline-none focus:ring-2 focus:ring-brand/60" />
          </label>
          <label class="block text-sm">
            <span class="opacity-80" data-i18n="contact.email">Email</span>
            <input type="email" required class="mt-1 w-full px-4 py-3 rounded-xl bg-white/80 dark:bg-black/40 border border-white/30 outline-none focus:ring-2 focus:ring-brand/60" />
          </label>
        </div>
        <label class="block text-sm">
          <span class="opacity-80" data-i18n="contact.msg">Nội dung</span>
          <textarea rows="5" required class="mt-1 w-full px-4 py-3 rounded-xl bg-white/80 dark:bg-black/40 border border-white/30 outline-none focus:ring-2 focus:ring-brand/60"></textarea>
        </label>
        <div class="flex items-center justify-between">
          <a href="mailto:hi@you.dev" class="text-sm underline underline-offset-4">hoặc gửi mail: hi@you.dev</a>
          <button class="px-5 py-3 rounded-full bg-neutral-900 text-white dark:bg-white dark:text-neutral-900" data-i18n="contact.send" type="submit">Gửi</button>
        </div>
      </form>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="py-10 text-center border-t border-white/20">
    <p>© <span id="year"></span> <span id="footerName">Nguyễn Minh An</span> — <span data-i18n="footer">Build bằng Tailwind & GSAP.</span></p>
  </footer>

  <!-- SCRIPTS -->
  <script>
    // i18n dictionary
    const I18N = {
      vi: {
        'nav.home': 'Trang chủ','nav.about':'Giới thiệu','nav.skills':'Kỹ năng','nav.experience':'Kinh nghiệm','nav.projects':'Dự án','nav.contact':'Liên hệ',
        'hero.badge':'Sẵn sàng bùng nổ','hero.subtitle':'Tạo sản phẩm web nhanh, mượt, đúng chất. Ưu tiên CWV, A11y, motion tinh tế — để UI vừa đẹp vừa hiệu quả.','hero.ctaPrimary':'Xem dự án','hero.ctaSecondary':'Liên hệ',
        'stats.y':'Năm kinh nghiệm','stats.p':'Dự án hoàn thành','stats.a':'Giải thưởng/Cert',
        'about.title':'Về tôi','about.text':'Mình là <strong id="devName">Nguyễn Minh An</strong>, 25 tuổi, ở <strong>TP.HCM</strong>. Cử nhân CNTT (HCI/UX). Đam mê giao thoa giữa kỹ thuật và thiết kế – ship nhanh, sạch, có gu.',
        'about.name':'Họ tên:','about.age':'Tuổi:','about.loc':'Nơi ở:','about.edu':'Học vấn:','about.cv':'Tải CV',
        'about.focus':'Tập trung',
        'skills.title':'Kỹ năng',
        'exp.title':'Kinh nghiệm',
        'projects.title':'Dự án nổi bật','projects.all':'Xem tất cả',
        'contact.title':'Liên hệ','contact.desc':'Ưu tiên consumer product, SaaS, fintech & giáo dục. Có thể on-site HCMC hoặc remote.',
        'contact.name':'Họ tên','contact.email':'Email','contact.msg':'Nội dung','contact.send':'Gửi',
        'footer':'Build bằng Tailwind & GSAP.'
      },
      en: {
        'nav.home':'Home','nav.about':'About','nav.skills':'Skills','nav.experience':'Experience','nav.projects':'Projects','nav.contact':'Contact',
        'hero.badge':'Ready to ship','hero.subtitle':'Build fast, smooth, opinionated web. Prioritizing CWV, A11y, and tasteful motion — beauty with purpose.','hero.ctaPrimary':'View Projects','hero.ctaSecondary':'Contact',
        'stats.y':'Years experience','stats.p':'Projects shipped','stats.a':'Awards/Certs',
        'about.title':'About me','about.text':"I'm <strong id='devName'>Nguyễn Minh An</strong>, 25, based in <strong>Ho Chi Minh City</strong>. BSc CS (HCI/UX). I merge code & design to ship fast, clean, with taste.",
        'about.name':'Full name:','about.age':'Age:','about.loc':'Location:','about.edu':'Education:','about.cv':'Download CV',
        'about.focus':'Focus',
        'skills.title':'Skills',
        'exp.title':'Experience',
        'projects.title':'Featured Projects','projects.all':'See all',
        'contact.title':'Contact','contact.desc':'Open to consumer products, SaaS, fintech & education. On-site HCMC or remote.',
        'contact.name':'Name','contact.email':'Email','contact.msg':'Message','contact.send':'Send',
        'footer':'Built with Tailwind & GSAP.'
      }
    };

    // helpers
    const $ = sel => document.querySelector(sel);
    const $$ = sel => [...document.querySelectorAll(sel)];
    const setLang = lang => {
      const dict = I18N[lang];
      $$('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key]) el.innerHTML = dict[key];
      });
      document.documentElement.lang = lang;
      localStorage.setItem('lang', lang);
    };
    setLang(localStorage.getItem('lang') || 'vi');

    // theme toggle
    $('#themeBtn').addEventListener('click', ()=>{
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', document.documentElement.classList.contains('dark') ? 'dark':'light');
    });

    // lang toggle
    $('#langBtn').addEventListener('click', ()=>{
      const next = (localStorage.getItem('lang') || 'vi') === 'vi' ? 'en' : 'vi';
      setLang(next);
    });

    // year
    $('#year').textContent = new Date().getFullYear();

    // Dynamic-Island behavior (robust, mobile/desktop)
    const island = $('#island');
    const islandToggle = $('#islandToggle');
    const islandMenu = $('#islandMenu');
    const islandPanel = $('#islandPanel');

    function setIsland(open){
      island.classList.toggle('island--open', open);
      island.classList.toggle('island--closed', !open);
      islandToggle.setAttribute('aria-expanded', String(open));
      if (window.innerWidth >= 768) {
        islandMenu.style.display = open ? 'flex' : 'none';
      } else {
        islandPanel.classList.toggle('hidden', !open);
      }
    }
    setIsland(false);

    islandToggle.addEventListener('click', (e)=>{ e.stopPropagation(); setIsland(!island.classList.contains('island--open')); });
    document.addEventListener('click', (e)=>{
      if (!island.contains(e.target) && !islandPanel.contains(e.target)) setIsland(false);
    });
    window.addEventListener('resize', ()=>{ setIsland(false); });

    // Smooth scroll (Lenis + GSAP)
    const lenis = new Lenis({ duration: 1.1, smoothWheel: true, smoothTouch: true });
    function raf(t){ lenis.raf(t); requestAnimationFrame(raf); }
    requestAnimationFrame(raf);

    function goTo(target){
      const el = document.querySelector(target);
      if (!el) return;
      gsap.to(window, { duration:.8, ease:'power3.out', scrollTo:{ y: el, offsetY: 110 } });
      setIsland(false);
    }
    $$('[data-scroll]').forEach(a=>a.addEventListener('click', (e)=>{ e.preventDefault(); goTo(a.getAttribute('data-scroll')); }));

    // Active link highlight via IntersectionObserver (nhẹ, chuẩn)
    const ids = ['#home','#about','#skills','#experience','#projects','#contact'];
    const map = new Map();
    $$('#islandMenu a, #islandPanel a').forEach(a=>map.set(a.getAttribute('data-scroll'), a));
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          const id = '#'+entry.target.id;
          $$('.nav-link').forEach(a=>a.classList.toggle('active', a.getAttribute('data-scroll')===id));
        }
      });
    }, { rootMargin: '-50% 0px -50% 0px', threshold: 0.01 });
    ids.forEach(id => { const el = document.querySelector(id); if (el) io.observe(el); });

    // GSAP reveal (nhẹ, không bay lắc)
    gsap.utils.toArray('section').forEach(sec=>{
      const items = sec.querySelectorAll('h2, h3, p, li, article, .rounded-3xl, .grid > *');
      gsap.from(items, { scrollTrigger:{ trigger: sec, start:'top 80%' }, y:20, opacity:0, duration:.5, stagger:.03, ease:'power2.out' });
    });

    // Form
    $('#form').addEventListener('submit', (e)=>{
      e.preventDefault();
      const isVi = (localStorage.getItem('lang')||'vi')==='vi';
      alert(isVi ? 'Đã gửi! Mình sẽ phản hồi sớm.' : 'Sent! I’ll get back soon.');
      e.target.reset();
    });
  </script>
</body>
</html>
